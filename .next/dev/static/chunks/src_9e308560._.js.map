{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/chaosm/sm/hobby/chess/src/lib/chess-engine.ts"],"sourcesContent":["import { Board, GameState, Move, Piece, PieceType, Player, Position } from '@/types/chess';\n\nexport const INITIAL_BOARD: Board = [\n    // Black pieces (top)\n    [\n        { type: 'R', player: 'black' },\n        { type: 'H', player: 'black' },\n        { type: 'E', player: 'black' },\n        { type: 'A', player: 'black' },\n        { type: 'K', player: 'black' },\n        { type: 'A', player: 'black' },\n        { type: 'E', player: 'black' },\n        { type: 'H', player: 'black' },\n        { type: 'R', player: 'black' },\n    ],\n    [null, null, null, null, null, null, null, null, null],\n    [\n        null,\n        { type: 'C', player: 'black' },\n        null,\n        null,\n        null,\n        null,\n        null,\n        { type: 'C', player: 'black' },\n        null,\n    ],\n    [\n        { type: 'P', player: 'black' },\n        null,\n        { type: 'P', player: 'black' },\n        null,\n        { type: 'P', player: 'black' },\n        null,\n        { type: 'P', player: 'black' },\n        null,\n        { type: 'P', player: 'black' },\n    ],\n    [null, null, null, null, null, null, null, null, null],\n    // River\n    [null, null, null, null, null, null, null, null, null],\n    [\n        { type: 'P', player: 'red' },\n        null,\n        { type: 'P', player: 'red' },\n        null,\n        { type: 'P', player: 'red' },\n        null,\n        { type: 'P', player: 'red' },\n        null,\n        { type: 'P', player: 'red' },\n    ],\n    [\n        null,\n        { type: 'C', player: 'red' },\n        null,\n        null,\n        null,\n        null,\n        null,\n        { type: 'C', player: 'red' },\n        null,\n    ],\n    [null, null, null, null, null, null, null, null, null],\n    [\n        { type: 'R', player: 'red' },\n        { type: 'H', player: 'red' },\n        { type: 'E', player: 'red' },\n        { type: 'A', player: 'red' },\n        { type: 'K', player: 'red' },\n        { type: 'A', player: 'red' },\n        { type: 'E', player: 'red' },\n        { type: 'H', player: 'red' },\n        { type: 'R', player: 'red' },\n    ],\n];\n\nexport const getInitialState = (): GameState => ({\n    board: JSON.parse(JSON.stringify(INITIAL_BOARD)),\n    turn: 'red',\n    lastMove: null,\n    winner: null,\n    isCheck: false,\n});\n\nexport const isValidMove = (state: GameState, move: Move): boolean => {\n    const { from, to } = move;\n    const board = state.board;\n    const piece = board[from.r][from.c];\n\n    if (!piece || piece.player !== state.turn) return false;\n\n    const target = board[to.r][to.c];\n    if (target && target.player === state.turn) return false;\n\n    const dr = to.r - from.r;\n    const dc = to.c - from.c;\n    const absDr = Math.abs(dr);\n    const absDc = Math.abs(dc);\n\n    switch (piece.type) {\n        case 'K': // King\n            if (absDr + absDc !== 1) return false;\n            // Must stay in palace\n            if (to.c < 3 || to.c > 5) return false;\n            if (piece.player === 'red' && to.r < 7) return false;\n            if (piece.player === 'black' && to.r > 2) return false;\n            break;\n\n        case 'A': // Advisor\n            if (absDr !== 1 || absDc !== 1) return false;\n            // Must stay in palace\n            if (to.c < 3 || to.c > 5) return false;\n            if (piece.player === 'red' && to.r < 7) return false;\n            if (piece.player === 'black' && to.r > 2) return false;\n            break;\n\n        case 'E': // Elephant\n            if (absDr !== 2 || absDc !== 2) return false;\n            // Cannot cross river\n            if (piece.player === 'red' && to.r < 5) return false;\n            if (piece.player === 'black' && to.r > 4) return false;\n            // Cannot be blocked (Eye of the Elephant)\n            if (board[from.r + dr / 2][from.c + dc / 2]) return false;\n            break;\n\n        case 'H': // Horse\n            if (!((absDr === 2 && absDc === 1) || (absDr === 1 && absDc === 2))) return false;\n            // Cannot be blocked (Horse leg)\n            if (absDr === 2) {\n                if (board[from.r + dr / 2][from.c]) return false;\n            } else {\n                if (board[from.r][from.c + dc / 2]) return false;\n            }\n            break;\n\n        case 'R': // Rook\n            if (dr !== 0 && dc !== 0) return false;\n            if (countPiecesBetween(board, from, to) !== 0) return false;\n            break;\n\n        case 'C': // Cannon\n            if (dr !== 0 && dc !== 0) return false;\n            const count = countPiecesBetween(board, from, to);\n            if (target) {\n                if (count !== 1) return false; // Must jump over exactly one piece to capture\n            } else {\n                if (count !== 0) return false; // Must have no pieces between to move\n            }\n            break;\n\n        case 'P': // Pawn\n            if (piece.player === 'red') {\n                if (dr > 0) return false; // Cannot move backward\n                if (from.r >= 5) {\n                    // Before crossing river\n                    if (dr !== -1 || dc !== 0) return false;\n                } else {\n                    // After crossing river\n                    if (absDr + absDc !== 1 || dr > 0) return false;\n                }\n            } else {\n                if (dr < 0) return false; // Cannot move backward\n                if (from.r <= 4) {\n                    // Before crossing river\n                    if (dr !== 1 || dc !== 0) return false;\n                } else {\n                    // After crossing river\n                    if (absDr + absDc !== 1 || dr < 0) return false;\n                }\n            }\n            break;\n    }\n\n    // Check for \"Flying General\" (King facing King)\n    // This is usually checked AFTER the move or as part of move validation\n    // But for simple move validation, we mainly care about piece movement rules.\n\n    return true;\n};\n\nconst countPiecesBetween = (board: Board, from: Position, to: Position): number => {\n    let count = 0;\n    if (from.r === to.r) {\n        const start = Math.min(from.c, to.c);\n        const end = Math.max(from.c, to.c);\n        for (let c = start + 1; c < end; c++) {\n            if (board[from.r][c]) count++;\n        }\n    } else {\n        const start = Math.min(from.r, to.r);\n        const end = Math.max(from.r, to.r);\n        for (let r = start + 1; r < end; r++) {\n            if (board[r][from.c]) count++;\n        }\n    }\n    return count;\n};\n\nexport const makeMove = (state: GameState, move: Move): GameState | null => {\n    if (!isValidMove(state, move)) return null;\n\n    const newBoard = JSON.parse(JSON.stringify(state.board));\n    const piece = newBoard[move.from.r][move.from.c];\n\n    // Handle Fly General rule check (optional but good)\n    // ...\n\n    newBoard[move.to.r][move.to.c] = piece;\n    newBoard[move.from.r][move.from.c] = null;\n\n    const nextTurn = state.turn === 'red' ? 'black' : 'red';\n\n    // Check win condition (if King is captured)\n    const target = state.board[move.to.r][move.to.c];\n    let winner = null;\n    if (target && target.type === 'K') {\n        winner = state.turn;\n    }\n\n    return {\n        ...state,\n        board: newBoard,\n        turn: nextTurn,\n        lastMove: move,\n        winner,\n    };\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["file:///Users/chaosm/sm/hobby/chess/src/components/Board.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { GameState, Move, Position } from '@/types/chess';\nimport { isValidMove, makeMove } from '@/lib/chess-engine';\nimport { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nfunction cn(...inputs: ClassValue[]) {\n    return twMerge(clsx(inputs));\n}\n\ninterface BoardProps {\n    gameState: GameState;\n    onMove: (move: Move) => void;\n    playerSide: 'red' | 'black';\n}\n\nconst PIECE_NAMES: Record<string, string> = {\n    'red-K': '帥', 'black-K': '將',\n    'red-A': '仕', 'black-A': '士',\n    'red-E': '相', 'black-E': '象',\n    'red-H': '傌', 'black-H': '馬',\n    'red-R': '俥', 'black-R': '車',\n    'red-C': '砲', 'black-C': '炮',\n    'red-P': '兵', 'black-P': '卒',\n};\n\nexport default function Board({ gameState, onMove, playerSide }: BoardProps) {\n    const [selected, setSelected] = useState<Position | null>(null);\n\n    const handleClick = (r: number, c: number) => {\n        if (gameState.winner) return;\n\n        if (selected) {\n            const move: Move = { from: selected, to: { r, c } };\n            if (isValidMove(gameState, move)) {\n                onMove(move);\n                setSelected(null);\n            } else {\n                // If clicking on another piece of the same player, select it instead\n                const piece = gameState.board[r][c];\n                if (piece && piece.player === gameState.turn) {\n                    setSelected({ r, c });\n                } else {\n                    setSelected(null);\n                }\n            }\n        } else {\n            const piece = gameState.board[r][c];\n            if (piece && piece.player === gameState.turn) {\n                setSelected({ r, c });\n            }\n        }\n    };\n\n    const renderBoard = () => {\n        const cells = [];\n        for (let r = 0; r < 10; r++) {\n            for (let c = 0; c < 9; c++) {\n                const piece = gameState.board[r][c];\n                const isSelected = selected?.r === r && selected?.c === c;\n                const isLastMove = (gameState.lastMove?.from.r === r && gameState.lastMove?.from.c === c) ||\n                    (gameState.lastMove?.to.r === r && gameState.lastMove?.to.c === c);\n\n                cells.push(\n                    <div\n                        key={`${r}-${c}`}\n                        onClick={() => handleClick(r, c)}\n                        className={cn(\n                            \"relative flex items-center justify-center cursor-pointer select-none\",\n                            \"w-full h-full border-[0.5px] border-black/20\",\n                            isLastMove && \"bg-yellow-500/20\"\n                        )}\n                    >\n                        {/* Draw cross for palace and specific positions if needed */}\n                        {/* For now, just a clean grid */}\n\n                        {piece && (\n                            <div\n                                className={cn(\n                                    \"w-10 h-10 rounded-full flex items-center justify-center font-bold text-2xl transition-all shadow-md border-2\",\n                                    piece.player === 'red' ? \"bg-white text-red-600 border-red-600\" : \"bg-white text-black border-black\",\n                                    isSelected && \"ring-4 ring-yellow-400 scale-110 z-10 shadow-xl\",\n                                )}\n                            >\n                                {PIECE_NAMES[`${piece.player}-${piece.type}`]}\n                            </div>\n                        )}\n\n                        {/* Hint for valid move if selected */}\n                        {selected && isValidMove(gameState, { from: selected, to: { r, c } }) && !piece && (\n                            <div className=\"w-3 h-3 bg-black/10 rounded-full\" />\n                        )}\n                        {selected && isValidMove(gameState, { from: selected, to: { r, c } }) && piece && piece.player !== gameState.turn && (\n                            <div className=\"absolute inset-0 border-2 border-red-400/50 rounded-full m-1\" />\n                        )}\n                    </div>\n                );\n            }\n        }\n        return cells;\n    };\n\n    return (\n        <div className=\"flex flex-col items-center gap-4\">\n            <div className=\"relative bg-[#e6ceac] border-8 border-[#5d4037] p-2 shadow-2xl rounded-sm\">\n                {/* River */}\n                <div className=\"absolute top-[40%] bottom-[40%] left-0 right-0 flex items-center justify-center font-serif text-3xl text-[#5d4037] font-bold opacity-40 pointer-events-none\">\n                    <div className=\"flex justify-between w-full px-20\">\n                        <span>楚 河</span>\n                        <span>漢 界</span>\n                    </div>\n                </div>\n\n                <div className=\"grid grid-cols-9 grid-rows-10 w-[450px] h-[500px] border-collapse relative\">\n                    {renderBoard()}\n                </div>\n            </div>\n\n            <div className=\"text-xl font-bold flex gap-8\">\n                <div className={cn(\"px-4 py-2 rounded\", gameState.turn === 'red' ? \"bg-red-600 text-white\" : \"bg-gray-200\")}>\n                    红方 {gameState.turn === 'red' && \"对方落子中...\"}\n                </div>\n                <div className={cn(\"px-4 py-2 rounded\", gameState.turn === 'black' ? \"bg-black text-white\" : \"bg-gray-200\")}>\n                    黑方 {gameState.turn === 'black' && \"对方落子中...\"}\n                </div>\n            </div>\n\n            {gameState.winner && (\n                <div className=\"fixed inset-0 bg-black/60 flex items-center justify-center z-50\">\n                    <div className=\"bg-white p-8 rounded-lg shadow-2xl text-center\">\n                        <h2 className=\"text-4xl font-bold mb-4\">{gameState.winner === 'red' ? '红方' : '黑方'} 胜利！</h2>\n                        <button\n                            className=\"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700\"\n                            onClick={() => window.location.reload()}\n                        >\n                            再来一局\n                        </button>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}