{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/chaosm/sm/hobby/chess/src/lib/pusher.ts"],"sourcesContent":["import PusherServer from 'pusher';\nimport PusherClient from 'pusher-js';\n\nconst pusherServerConfig = {\n    appId: process.env.PUSHER_APP_ID || '',\n    key: process.env.NEXT_PUBLIC_PUSHER_KEY || '',\n    secret: process.env.PUSHER_SECRET || '',\n    cluster: process.env.NEXT_PUBLIC_PUSHER_CLUSTER || 'mt1',\n    useTLS: true,\n};\n\nexport const pusherServer = pusherServerConfig.appId\n    ? new PusherServer(pusherServerConfig)\n    : null;\n\nexport const getPusherClient = () => {\n    const key = process.env.NEXT_PUBLIC_PUSHER_KEY;\n    const cluster = process.env.NEXT_PUBLIC_PUSHER_CLUSTER || 'mt1';\n\n    if (!key) return null;\n\n    return new PusherClient(key, { cluster });\n};\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,qBAAqB;IACvB,OAAO,QAAQ,GAAG,CAAC,aAAa,IAAI;IACpC,KAAK,QAAQ,GAAG,CAAC,sBAAsB,IAAI;IAC3C,QAAQ,QAAQ,GAAG,CAAC,aAAa,IAAI;IACrC,SAAS,QAAQ,GAAG,CAAC,0BAA0B,IAAI;IACnD,QAAQ;AACZ;AAEO,MAAM,eAAe,mBAAmB,KAAK,GAC9C,IAAI,oJAAY,CAAC,sBACjB;AAEC,MAAM,kBAAkB;IAC3B,MAAM,MAAM,QAAQ,GAAG,CAAC,sBAAsB;IAC9C,MAAM,UAAU,QAAQ,GAAG,CAAC,0BAA0B,IAAI;IAE1D,IAAI,CAAC,KAAK,OAAO;IAEjB,OAAO,IAAI,mKAAY,CAAC,KAAK;QAAE;IAAQ;AAC3C"}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///Users/chaosm/sm/hobby/chess/src/app/api/move/route.ts"],"sourcesContent":["import { pusherServer } from '@/lib/pusher';\nimport { NextResponse } from 'next/server';\n\nexport async function POST(req: Request) {\n    try {\n        const { move, state, gameId } = await req.json();\n\n        // Broadcast the move and updated state to the game channel\n        await pusherServer.trigger(`game-${gameId}`, 'move-made', {\n            move,\n            state,\n        });\n\n        return NextResponse.json({ success: true });\n    } catch (error) {\n        console.error('Pusher error:', error);\n        return NextResponse.json({ error: 'Failed to broadcast move' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,IAAI;QAE9C,2DAA2D;QAC3D,MAAM,sIAAY,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,QAAQ,EAAE,aAAa;YACtD;YACA;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC7C,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACJ"}}]
}